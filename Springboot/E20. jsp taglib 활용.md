# E20. jsp taglib 활용

## ExampleTaglibController

```java
package kr.co.jisung.mvc.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;

import kr.co.jisung.mvc.domain.BoardType;
import kr.co.jisung.mvc.parameter.BoardSearchParameter;

@Controller
@RequestMapping("/example/taglib/")
public class ExampleTaglibController {
	
	@RequestMapping("/search")
	public void search(BoardSearchParameter parameter, Model model) {
		model.addAttribute("boardTypes", BoardType.values());
		model.addAttribute("parameter", parameter);
	}
}

```

## Search.jsp

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib tagdir="/WEB-INF/tags" prefix="tag" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<title>Insert title here</title>
</head>
<body>
	<div class="container">
		<h2>게시물 목록</h2>
		<form action="" method="get">
			<div class="mb-3 row">
				<label for="exampleFormControlInput1" class="col-sm-2 col-form-label">종류</label>
				<div class="col-sm-10">
					<tag:bootstrap-checkbox items="${boardTypes }" values="${parameter.boardTypes }"/>
				</div>
			</div>
		</form>
	</div>
</body>
</html>
```

## bootstrap-checkbox.tag

- WEB-INF/ tags 에 tag파일 만들어줌

```jsp
<%@ tag language="java" pageEncoding="UTF-8" body-content="empty"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ attribute name="items" type="kr.co.jisung.mvc.domain.BaseCodeLabelEnum[]" required="true" %>
<%@ attribute name="values" type="java.lang.Object" required="false" %>
					<c:forEach var="boardType" items="${items }" varStatus="status">	
						<div class="form-check form-check-inline">
							<input class="form-check-input" 
							name="boardTypes" 
							type="checkbox" 
							value="${boardType.code()}"  
							id="board-type${status.count}">
							<label class="form-check-label" for="board-type${status.count}">${boardType.label() }</label>
						</div>
					</c:forEach>
```

