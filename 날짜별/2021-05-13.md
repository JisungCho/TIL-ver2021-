# 2021-05-13

## 1.Todolist

### 할 일

- edit 버튼을 클릭하면 due를 바꿀 수 있도록 버튼이 활성화되고 datepicker를 이용해서 due를 수정
- 수정 완료 버튼을 누르면 ajax로 수정된 내용과 수정된 날짜가 전송됨 그리고 업데이트 됨

### 결과

- 수정까지 완료

  - edit을 누르면 수정모드로 바뀜 
    - 날짜와 내용을 변경가능
      - 날짜를 누르면 datepicker가 등장하고 날짜를 수정하면 바뀐 날짜로 바뀜
    - 수정모드에서 수정 취소를 누르면 수정 전 내용으로 롤백됨

  ```js
      
      //edit 버튼 클릭
      $(".to_do_list").on("click",".edit",function(){
      	var seq = $(this).data("number");
      	$('#'+seq).removeClass("bg-transparent");
      	$('#'+seq).attr("readonly",false);
      	prevcontent = $('#'+seq).val();
      	//v , x 버튼 추가 edit , delete버튼 삭제
      	$('#todo_check'+seq).removeClass('d-none');
      	$('#todo_cancle'+seq).removeClass('d-none');
      	$("#todo_date"+seq).removeClass('d-none');
      	$("#todo_edit"+seq).addClass("d-none");
      	$("#todo_delete"+seq).addClass("d-none");
      });
      
      //날짜수정 버튼 클릭
      $(".due").on("click",function(){
      	prevday = $(this).next().text();
      	
  	    $(this).datepicker({
  	        format: "yyyy/MM/dd",
  	        autoclose: true,
  	        todayHighlight: true,
  	        clearBtn : true,
  	        startDate: currentDate,
  	        orientation: "bottom"
  	    });	
  	    
  	    $(this)
  	    .datepicker("show")
  	    .on("changeDate", function (dateChangeEvent) {
                  $(".due-date-button").datepicker("hide");
                  $(this).next().text(formatDate(dateChangeEvent.date));
         	});
         	
      })
      
      //수정 취소
      $(".cancle").on("click",function(){
      	var seq = $(this).data("number");
      	$('#'+seq).addClass("bg-transparent");
      	$('#'+seq).attr("readonly",true);
      	//v , x 버튼 삭제 edit , delete버튼 추가
      	$('#todo_check'+seq).addClass('d-none');
      	$('#todo_cancle'+seq).addClass('d-none');
      	$("#todo_date"+seq).addClass('d-none');
      	$('#todo_label'+seq).text(prevday);
      	$("#"+seq).val(prevcontent);
      	$("#todo_edit"+seq).removeClass("d-none");
      	$("#todo_delete"+seq).removeClass("d-none");
      });
      
      //수정 완료
      $(".check").on("click",function(){
      	var seq = $(this).data("number");
      	$('#'+seq).addClass("bg-transparent");
      	$('#'+seq).attr("readonly",true);
      	//v , x 버튼 삭제 edit , delete버튼 추가
      	$('#todo_check'+seq).addClass('d-none');
      	$('#todo_cancle'+seq).addClass('d-none');
      	$("#todo_date"+seq).addClass('d-none');
      	$("#todo_edit"+seq).removeClass("d-none");
      	$("#todo_delete"+seq).removeClass("d-none");
      	
      	var todo_data = {
      		seq : seq,
  			todo_content : $("#"+seq).val(),
  			todo_date : $("#todo_label"+seq).text(),
  			member_seq : 1
  		};
      	
      	$.ajax({
      		url : "/todolist/update",
      		type : "put",
      		contentType: 'application/json',
      		data : JSON.stringify(todo_data),
      		dataType: 'json',
      		success : function(e){
      				alert('수정되었습니다.');
      				location.reload();
      		}
      	});
      });
      
      //삭제버튼
      $(".to_do_list").on("click",".delete",function(){
      	var number = $(this).data("number");
      	console.log(number);
      	$.ajax({
      		url: "/todolist/delete/"+number,
      		type:'delete',
      		dataType:'json',
      		success : function(e){
      			if(e.data == true){
      				alert('삭제되었습니다.');
      				location.reload();
      			}
      		}
      	});
      })
  ```

  ```java
  	/*
  	 * 할일 수정
  	 */
  	@PutMapping("/update")
  	@ResponseBody
  	public BaseResponse<Todo> update(@RequestBody Todo todo){
  		logger.info("업데이트");
  		service.update(todo);
  		return new BaseResponse<Todo>(todo);
  	}
  
  	/*
  	 * 수정처리
  	 */
  	public void update(Todo todo) {
  		repository.update(todo);
  	}
  
  	@Repository
  public interface TodoRepository {
  	void save(Todo todo);
  	List<Todo> getList();
  	Todo get(int seq);
  	void update(Todo todo);
  	void delete(int seq);
  }
  ```

  ```sql
  	<update id="update" parameterType="kr.co.jisung.mvc.domain.Todo">
  		UPDATE todo SET todo_content = #{todo_content} , todo_date = #{todo_date} WHERE seq = #{seq}
  	</update>
  ```

### 다음 할 일

- 마커를 누르면 체크가 되고 내용에 줄이 그어지고 상태가 complete로 바뀜
- 지정된 기한이 지나면 상태가 바뀜 due on date로



## 코딩테스트 - Stack, Queue(자료구조) , Sorting and Searching(정렬, 이분검색과 결정알고리즘)

### 8. 응급실

- 내 풀이 (실패)

  - 해당 인덱스로 배열에서 위험도를 가져옴
  - 큰 값이 있는지 확인
  - 큰 값이 있으면 poll -> offer
  - 큰 값이 없으면 answer ++ , m번째 환자인지 확인

  ```java
  package sec05;
  
  import java.util.LinkedList;
  import java.util.Queue;
  import java.util.Scanner;
  public class Ex08 {
  	public static int solution(int n, int m, int[] arr) {
  		int answer = 0;
  		Queue<Integer> Q = new LinkedList<>();
  		
  		for (int i = 0; i < n; i++) {
  			Q.offer(i);
  		}
  
  		while(true) {
  			int people = Q.poll(); // 사람번호
  
  			for (int i = 0; i < n; i++) {
  				if (arr[i] > arr[people]) { // 지금 사람보다 위험도가 큰 사람이 있으면
  					Q.offer(people);
  					break;
  				}
  			}
  			
  			if (m != people) { // 내가 원하는 번호가 아니면
  				answer++;
  			} else {
  				answer++;
  				return answer;
  			}
  		}
  	}
  
  	public static void main(String[] args) {
  		Scanner kb = new Scanner(System.in);
  
  		int n = kb.nextInt(); // 환자 수
  		int m = kb.nextInt(); // 몇 번째 환자 0부터 시작
  		int[] arr = new int[n];
  		for (int i = 0; i < n; i++) {
  			arr[i] = kb.nextInt();
  		}
  
  		System.out.println(solution(n, m, arr));
  	}
  }
  
  ```

- 풀이

  - Person이라는 사용자 클래스를 만들어서 Q에 집어 넣음

    ```java
    package sec05;
    
    import java.util.LinkedList;
    import java.util.Queue;
    import java.util.Scanner;
    
    class Person {
    	int id;
    	int priority;
    	
    	public Person(int id, int priority) {
    		this.id = id;
    		this.priority = priority;
    	}
    	
    }
    
    public class Ex08 {
    	public static int solution(int n, int m, int[] arr) {
    		int answer = 0;
    		Queue<Person> Q = new LinkedList<>();
    		
    		for (int i = 0; i < n; i++) {
    			Q.offer(new Person(i, arr[i]));
    		}
    		
    		while(!Q.isEmpty()) {
    			Person  tmp = Q.poll(); // 꺼낸 환자
    			for(Person x : Q) {
    				if(x.priority > tmp.priority) { // 대기목록에 큰 값이 있으면
    					Q.offer(tmp);
    					tmp = null;
    					break;
    				}
    			}
    			if(tmp != null) {
    				answer++;
    				if(tmp.id == m ) return answer;
    			}
    		}
    		return answer;
    	}
    
    	public static void main(String[] args) {
    		Scanner kb = new Scanner(System.in);
    
    		int n = kb.nextInt(); // 환자 수
    		int m = kb.nextInt(); // 몇 번째 환자 0부터 시작
    		int[] arr = new int[n];
    		for (int i = 0; i < n; i++) {
    			arr[i] = kb.nextInt();
    		}
    
    		System.out.println(solution(n, m, arr));
    	}
    }
    
    ```

### 1. 선택 정렬

- 내 생각

  - Arrays.sort 사용

    ```java
    package sec06;
    
    import java.util.Arrays;
    import java.util.Scanner;
    
    public class Ex01 {
    	public static void solution(int n,int[] arr) {
    			Arrays.sort(arr);
    			for (int i = 0; i < n; i++) {
    				System.out.print(arr[i]+" ");
    			}
    	}
    
    	public static void main(String[] args) {
    		Scanner kb = new Scanner(System.in);
    
    		int n = kb.nextInt(); // 갯수
    		int[] arr = new int[n];
    		for (int i = 0; i < n; i++) {
    			arr[i] = kb.nextInt();
    		}
    		solution(n, arr);
    	}
    }
    
    ```

- 풀이

  - 이중 for문

    - 첫 번째 for문 0부터 n-1작을때까지
    - 두번째 for문 i+1부터 n보다 작을때 까지
    - idx에는 첫 번째 for문이 가리키는 값을 넣어주고 , 두번째 for문이 가리키는 값이 더 작아지면 두번째 for문의 인덱스를 idx에 넣어줌
    - 두 번째 for문이 다 돌면 idx와 와 현재 for문의 인덱스가 가리키는 값을 서로 바꿔줌

    ```java
    package sec06;
    
    import java.util.Arrays;
    import java.util.Scanner;
    
    public class Ex01 {
    	public static int[] solution(int n,int[] arr) {
    		for(int i=0;i<n-1;i++) {
    			int idx = i; 
    			for(int j=i+1 ; j<n;j++) {
    				if(arr[j] < arr[idx]) idx = j ;
    			}
    			int tmp = arr[i];
    			arr[i] = arr[idx];
    			arr[idx] = tmp;
    		}
    		return arr;
    	}
    
    	public static void main(String[] args) {
    		Scanner kb = new Scanner(System.in);
    
    		int n = kb.nextInt(); // 갯수
    		int[] arr = new int[n];
    		for (int i = 0; i < n; i++) {
    			arr[i] = kb.nextInt();
    		}
    		for(int x : solution(n, arr)) {
    			System.out.print(x + " ");
    		}
    	}
    }
    
    ```


### 2. 버블 정렬

- 내 생각

  - 2중 for문
    - 총 n개 보다 1적은 횟수만큼 돌고
    - 그 안에서 n-1-i만큼 돈다

  ```java
  package sec06;
  
  import java.util.Arrays;
  import java.util.Scanner;
  
  public class Ex02 {
  	public static int[] solution(int n,int[] arr) {
  		for(int i=0;i<n-1;i++) {
  			int tmp = 0;
  			for(int j=0;j<n-1-i;j++) {
  				if(arr[j] > arr[j+1]) {
  					tmp = arr[j];
  					arr[j] = arr[j+1];
  					arr[j+1] = tmp;
  				}
  			}
  		}
  		return arr;
  	}
  
  	public static void main(String[] args) {
  		Scanner kb = new Scanner(System.in);
  
  		int n = kb.nextInt(); // 갯수
  		int[] arr = new int[n];
  		for (int i = 0; i < n; i++) {
  			arr[i] = kb.nextInt();
  		}
  		for(int x : solution(n, arr)) {
  			System.out.print(x + " ");
  		}
  	}
  }
  
  ```

- 풀이

  - 버블 정렬 :  이웃한 두 항을 비교
  - 위 생각과 일치

  ```java
  package sec06;
  
  import java.util.Arrays;
  import java.util.Scanner;
  
  public class Sol02 {
  	public static int[] solution(int n,int[] arr) {
  			for(int i=0;i<n-1;i++) {
  				for(int j=0; j<n-i-1; j++) {
  					if(arr[j] > arr[j+1]) {
  						int tmp = arr[j];
  						arr[j] = arr[j+1];
  						arr[j+1] = tmp;
  					}
  				}
  			}
  			return arr;
  	}
  
  	public static void main(String[] args) {
  		Scanner kb = new Scanner(System.in);
  
  		int n = kb.nextInt(); // 갯수
  		int[] arr = new int[n];
  		for (int i = 0; i < n; i++) {
  			arr[i] = kb.nextInt();
  		}
  		for(int x : solution(n, arr)) {
  			System.out.print(x+" ");
  		}
  	}
  }
  
  ```

### 3. 삽입 정렬

- 내 풀이

  ```java
  package sec06;
  
  import java.util.Scanner;
  
  public class Ex03 {
  	public static int[] solution(int n,int[] arr) {
  			for(int i=0;i<n-1;i++) {
  				for(int j=i+1;j>0;j--) {
  					if(arr[j] < arr[j-1]) {
  						int tmp = arr[j];
  						arr[j] = arr[j-1];
  						arr[j-1] = tmp;
  					}
  				}
  			}
  			return arr;
  	}
  
  	public static void main(String[] args) {
  		Scanner kb = new Scanner(System.in);
  
  		int n = kb.nextInt(); // 갯수
  		int[] arr = new int[n];
  		for (int i = 0; i < n; i++) {
  			arr[i] = kb.nextInt();
  		}
  		for(int x : solution(n, arr)) {
  			System.out.print(x+" ");
  		}
  	}
  }
  
  ```

- 풀이

  ```java
   package sec06;
  
  import java.util.Scanner;
  
  public class Sol03 {
  	public static int[] solution(int n,int[] arr) { // ex) n=5
  		for(int i=1;i<n;i++) { // 1 부터 4까지
  			int tmp = arr[i]; // tmp에 삽입할 값을 넣어줌
  			int j;
  			for(j=i-1;j>=0;j--) { // 0 , 10 ,210 , 3210
  				if(arr[j] > tmp) {  // arr[j]값이 더 크면 앞으로 뒤로 값을 밈
  					arr[j+1] = arr[j];
  				}else { // 
  					break;
  				}
  			} 
  			arr[j+1] = tmp; // j가 끝난지점 바로 앞에 값을 넣어줌
  		}
  		return arr;
  	}
  
  	public static void main(String[] args) {
  		Scanner kb = new Scanner(System.in);
  
  		int n = kb.nextInt(); // 갯수
  		int[] arr = new int[n];
  		for (int i = 0; i < n; i++) {
  			arr[i] = kb.nextInt();
  		}
  		for(int x : solution(n, arr)) {
  			System.out.print(x+" ");
  		}
  	}
  }
  
  ```

  

